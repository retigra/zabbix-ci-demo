zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: 8aa4557f6c3f4aadbc03447fca3af9f6
    template: Zabbix agent
    name: Zabbix agent
    description: |
      Use this template for agents reachable from Zabbix server/proxy (passive mode).

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-0
    groups:
    - name: Templates/Applications
    items:
    - uuid: f46c6142cf434df1b6abe9334bf6c84c
      name: Host name of Zabbix agent running
      key: agent.hostname
      delay: 1h
      value_type: CHAR
      preprocessing:
      - type: DISCARD_UNCHANGED_HEARTBEAT
        parameters:
        - 1d
      tags:
      - tag: component
        value: system
    - uuid: 37a952edc12f47d6ac6f3ca04eb41326
      name: Zabbix agent ping
      key: agent.ping
      description: The agent always returns "1" for this item. May be used in combination
        with `nodata()` for the availability check.
      valuemap:
        name: Zabbix agent ping status
      tags:
      - tag: component
        value: system
    - uuid: 3a6af03a083b4366bd1d4c6ccf06ca88
      name: Version of Zabbix agent running
      key: agent.version
      delay: 1h
      value_type: CHAR
      preprocessing:
      - type: DISCARD_UNCHANGED_HEARTBEAT
        parameters:
        - 1d
      tags:
      - tag: component
        value: application
    - uuid: 49708b126e3844b898d2625f77c0030c
      name: Zabbix agent availability
      type: INTERNAL
      key: zabbix[host,agent,available]
      description: Used for monitoring the availability status of the agent.
      valuemap:
        name: zabbix.host.available
      tags:
      - tag: component
        value: system
      triggers:
      - uuid: 6767f9c764bb42dfa961baacf879f45c
        expression: max(/Zabbix agent/zabbix[host,agent,available],{$AGENT.TIMEOUT})=0
        name: Zabbix agent is not available
        event_name: Zabbix agent is not available (for {$AGENT.TIMEOUT})
        priority: AVERAGE
        description: For passive agents only, host availability is used with `{$AGENT.TIMEOUT}`
          as a time threshold.
        manual_close: YES
        tags:
        - tag: scope
          value: availability
    tags:
    - tag: class
      value: software
    - tag: target
      value: zabbix-agent
    macros:
    - macro: '{$AGENT.TIMEOUT}'
      value: 3m
      description: Timeout after which agent is considered unavailable. Works only
        for agents reachable from Zabbix server/proxy (passive mode).
    valuemaps:
    - uuid: 0d5e922550954e6bad89b22f1d9d0c65
      name: zabbix.host.available
      mappings:
      - value: '0'
        newvalue: not available
      - value: '1'
        newvalue: available
      - value: '2'
        newvalue: unknown
    - uuid: e5a39fd666b04b70b6eea53e2373b564
      name: Zabbix agent ping status
      mappings:
      - value: '1'
        newvalue: Up
